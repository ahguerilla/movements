<script type="text/javascript" id="api_urls">
  window.ahr = window.ahr || {};
  window.ahr.app_urls = {
    {% if user.is_authenticated %}
      getavatar: "{% url 'get_avatar' 'json' 0 0 %}".slice(0,-1),
      viewuserprofile: "{% url 'user_profile_for_user' 'a' %}".slice(0,-1),
      setuserrate: "{% url 'user_set_rate' 'json' 'a' %}".slice(0,-1),
      getusernames: "{% url 'user_get_usernames' 'json' %}",
      getGroupNames: "{% url 'user_get_group_names' %}",
      changepassword : "{% url 'account_change_password' %}",
      setpassword: "{% url 'account_set_password' %}",
      market: "{% url 'show_market' %}",
      requestposted: "{% url 'request_posted' %}",

      getStickyMarketItems: '{% url 'get_user_stickies' %}',
      getMarketItemsUser: '{% url 'get_market_items_user' 0 %}'.slice(0,-1),
      getusermarketitemsfromto : "{% url 'get_usermarketitems_fromto' 'json' 0 0 %}".slice(0,-1),
      getusermarketitemsforuserfromto: "{% url 'get_usermarketitems_for_user_fromto' 'json' 0 0 0 %}".slice(0,-1),
      sendmessage: "{% url 'send_message' 'json' 0 %}".slice(0,-1),
      senditemrecommendation: "{% url 'send_recommendation' 'json' 0 %}".slice(0,-1),
      marketsetrate: "{% url 'market_set_rate' 'json' 0 %}".slice(0,-1),

      reportuser: "{% url 'report_user' 'json' 0 %}".slice(0,-1),

      getmarketnotificationsfromto: "{% url 'get_notifications_fromto' 0 0 %}".slice(0,-1),

      getnotseennotif: "{% url 'get_notseen_notif' %}",
      shownotifications: "{% url 'show_notifications' %}",


      heartbeat: "{% url 'heartbeat' %}",

    {% endif %}
    getStats: '{% url 'get_stats' %}',
    getMarketItems: '{% url 'get_market_items' %}',
    getmarketitemfromto: "{% url 'get_marketitems_fromto' 'json' 0 0 %}".slice(0,-1),
    getFeaturedMarketItems: '{% url 'get_featured_market_items' %}'
  };

  {% if user and user.is_authenticated and not user.userprofile.first_login and user.id %}
    window.ahr.user_id = {{ user.id }};
    window.ahr.username = "{{ user.username }}";

    // starts the heartbeat for discovering new messages and notifications
    //window.ahr.messageCounterWatch();
  {% else %}
    window.ahr.user_id = 0;
  {% endif %}
    window.ahr.current_site = "{{ request.build_absolute_uri }}"
</script>

